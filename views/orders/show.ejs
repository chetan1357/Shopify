<% layout('layouts/boilerplate') %>

<% if(orders.length) {%>

<% if(!previous) {%>
<h2 style="font-size: 39px;">My Orders : -</h2>
<% } else{%>
<h2 style="font-size: 39px;">Previous Orders : -</h2>
<% } %>

<div class="card shadow-sm mt-4 bg-success" style="color: #f5f5f5;">
    <div class="card-body">
        <div class="row">
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                Orders
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                Address
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                Time
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                Status
            </div>
        </div>
    </div>
</div>

<% orders.forEach((order , i) => {%>
<div class="card shadow-sm" style="background-color:#f5f5f5;">
    <div class="card-body">
        <div class="row">
            <div class="col-3 fw-bold text-center text-success" style="font-size: 20px;">
                <%= order._id%>
                <% order.products.forEach((item) => { %>
                <div class="fw-lighter" style="color: black;">
                    <%=item.product.title%> - <%=item.quantity%> pcs
                </div>
                <% }) %>
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                <%= order.address%>
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                <%= moment(order.placedAt).format('hh:mm A') %>
            </div>
            <div class="col-3 fw-bold text-center" style="font-size: 20px;">
                <%= order.status%>
            </div>
        </div>
    </div>
</div>
<% }) %>
<% } else{%>
<div class="py-16">
    <div class="d-flex flex-column container mx-auto text-center">
        <h1 class="text-3xl mb-2" style="font-size: 50px;">No Orders Yet ðŸ˜•</h1>
        <p class="text-secondary text-lg mb-5" style="font-size: 21px;">You probably haven't order any product yet.
            <br>
            To buy a product, go to the main page.
        </p>
        <img class="mx-auto" src="/images/empty-cart.png" alt="empty-cart" style="width: 55%;">
        <a class="d-inline mt-5 btn btn-danger btn-lg rounded-pill" href="/products"
            style="width:9%;margin-left: 580px;">Go
            back</a>
        <!-- <a href="/" class="inline-block px-6 py-2 rounded-full btn-primary text-white font-bold mt-12">Go back</a> -->
    </div>
</div>
<% } %>